<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mula - Agile Math Trainer :)</title>
    <link rel="shortcut icon" type="image/png" href="settings.png" />
    <link rel="stylesheet" type="text/css" href="default.css" media="screen" />
</head>

<body>
    <div id="wrapper">
        <header id="header" onclick="toggleNav()">
            <h1>Mula <img id="settings-image" src="settings.png" /></h1>
            <p>Agile Math Trainer</p>
        </header>
        <div id="Solution" style="display: none;" onclick="toggleSolution()">
            <h2>Solutions</h2>
            <h3 id="Solution-task"></h3>
            <p id="partial-solutions"></p>
        </div>
        <div id="nav" class="hidden">
            <h2 onclick="toggleNav()">(O)ptions</h2>
            <div id="control">
                <button id="newTask" title="Create a new task based on the config and reset the view."
                    onclick="newTask()">(N)ew</button>
                <button id="submit" title="Submit and validate the current result." onclick="saveTempSolution()">(<span
                        style="font-size: x-small;">‚èé</span>) Validate</button>
                <button id="toggleFullScreen" title="Switch to full screen mode and back."
                    onclick="toggleFullScreen()">(F)ullscreen</button>
                <button id="toggleSolution" title="Show the solution and steps as a hint."
                    onclick="toggleSolution()">(S)olution</button>
                <button id="voiceMode" title="Use voice recognition instead of keyboard input."
                    onclick="toggleVoiceMode()"></button>
                <button id="impress" title="Print legal information and credits." onclick="">(L)egal Notice<br /><span
                        style='font-size: x-small'>(Impressum)</span></button>
            </div>
            <div id="config">
                <p><span class="config-label">auto task after:</span><input class="config" type="number"
                        id="autoTaskInput" name="autoTaskInput" placeholder="-" value="5" onclick="this.select();"
                        oninput="saveAutoTaskInterval()" />
                    <span>sec.</span></p>
                <p><span class="config-label"># of digits:</span><input class="config" type="number" id="f1"
                        name="factor1" placeholder="1" value="1"
                        onblur="if(this.value==''){this.value=this.placeholder}"
                        onclick="if(this.value != ''){this.placeholder=this.value;this.value=''};config.scrollIntoView(true);"
                        oninput="newTask(false)" />
                    <input class="config" type="number" id="f2" name="factor2" placeholder="2" value="2"
                        onblur="if(this.value==''){this.value=this.placeholder}"
                        onclick="if(this.value != ''){this.placeholder=this.value;this.value=''};config.scrollIntoView(true);"
                        oninput="newTask(false)" /></p>
            </div>
        </div>
        <div id="trainer-page">
            <section id="task">
                <p id="current-task" onclick="newTask()"></p>
            </section>
            <section id="input" class="speech" onclick="startDictation()">
                <img id="mic-image" class="hidden" src="32px-Font_Awesome_5_solid_microphone-alt.svg.png" />
                <input type="number" id="solution" name="solution" placeholder="=" onkeyup="guessInput()" />
            </section>
            <section>
                <p id="temp-solutions" onclick="toggleSolution()"></p>
            </section>

        </div>
    </div>
    <script src="default.js"></script>
    <script>
        (function () {
            if (localStorage.getItem('autoTaskInterval')) {
                if (0 < localStorage.getItem('autoTaskInterval')) {
                    autoTaskInput.value = localStorage.getItem('autoTaskInterval') / 1000;
                } else {
                    autoTaskInput.value = "";
                }
            }
            isVoiceModeActive = localStorage.getItem('isVoiceModeActive') != "true";
            toggleVoiceMode();

            if (localStorage.getItem('f1')) {
                f1input.value = localStorage.getItem('f1');
            }
            if (localStorage.getItem('f2')) {
                f2input.value = localStorage.getItem('f2');
            }
            newTask();
            currentSolution.focus();
        })();
    </script>
</body>

</html>